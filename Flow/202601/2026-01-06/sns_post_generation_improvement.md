# SNS投稿生成の改善提案 - Twitter数値データ除外

## 問題点

現在の投稿に以下のようなTwitter/Xの具体的な数値データが含まれている：

```
SuguruKun_aiのスレッドがいいね1,132、リツイート105、163,736ビューを記録。
```

**問題**:
- Twitter/Xのエンゲージメント数値は時間とともに変化する
- 投稿時点では正確でも、後から見ると古い情報になる
- LinkedIn投稿には不要な情報（LinkedInユーザーには関係ない）

## 修正方針

### オプション1: スキル定義に禁止ルールを追加（推奨）

**場所**: `.claude/skills/sns-automation/generate-sns-posts-takano/SKILL.md`

**追加内容**（禁止事項セクション）:

```markdown
## 禁止事項（絶対遵守）

以下の要素は**絶対に使用禁止**：

1. ❌ 曖昧表現（"〜かもしれない"、"〜と思われる"、"〜の可能性がある"）
2. ❌ 過度な絵文字・記号（🔥💡✨等、最大2個まで）
3. ❌ ハッシュタグ（LinkedIn非推奨）
4. ❌ 自己紹介・宣伝（"私は〜"、"弊社では〜"）
5. ❌ 一般論のみ（具体的データ・固有名詞なし）
6. ❌ 感情的煽り（"ヤバい"を除く）
7. ❌ 未検証情報・噂話
8. ❌ 学術論文調（堅すぎる表現）
9. ❌ **Twitter/Xのエンゲージメント数値（いいね数、リツイート数、ビュー数、インプレッション数）** ← 新規追加
10. ❌ **SNSアカウント名の具体的言及（@アカウント名、ユーザー名）** ← 新規追加
```

**理由**:
- いいね・リツイート数は時間経過で変化する一時的な情報
- LinkedIn投稿では他SNSの具体的数値は不要
- 情報源の信頼性は「話題になっている」などの表現で十分

### オプション2: 投稿後処理での除去

**場所**: `fix_late_api_multi_post.py` または `late_api_post.py`

**追加処理**:

```python
def remove_twitter_metrics(text: str) -> str:
    """Twitter/Xのエンゲージメント数値を除去"""
    import re

    # パターン1: "いいね1,132、リツイート105、163,736ビューを記録"
    text = re.sub(r'いいね[\d,]+、リツイート[\d,]+、[\d,]+ビューを記録[。、]?', '', text)

    # パターン2: "SuguruKun_aiのスレッドが..."
    text = re.sub(r'[a-zA-Z0-9_]+のスレッドがいいね[\d,]+.*?を記録[。、]?', '', text)

    # パターン3: "〜がいいね〜"
    text = re.sub(r'が?いいね[\d,]+.*?ビュー.*?記録', '', text)

    return text
```

**問題点**:
- 正規表現が複雑化する可能性
- 将来的な表現バリエーションに対応できない
- **根本的な解決にならない**

## 推奨アプローチ

### ステップ1: スキル定義を修正（根本対策）

`.claude/skills/sns-automation/generate-sns-posts-takano/SKILL.md` の禁止事項に追加：

```markdown
9. ❌ **SNS数値データの具体的言及**
   - 禁止例: "いいね1,132、リツイート105、163,736ビューを記録"
   - 禁止例: "@SuguruKun_aiのスレッドが..."
   - 許可例: "AI開発者の間で話題になっている"
   - 許可例: "大きな反響を呼んでいる"
```

### ステップ2: 表現の代替案を提示

**Before（禁止）**:
```
SuguruKun_aiのスレッドがいいね1,132、リツイート105、163,736ビューを記録。
```

**After（推奨）**:
```
AI開発者コミュニティで大きな反響を呼んでいる。
```

または:

```
OpenAI Cookbookで正式公開され、注目を集めている。
```

### ステップ3: 検証ルールを追加

投稿生成後のチェックリストに追加：

```markdown
## 品質チェックリスト

### データ品質
- [ ] 具体的数値が5個以上含まれているか
- [ ] 企業名が3社以上含まれているか
- [ ] **SNSエンゲージメント数値（いいね・リツイート・ビュー数）が含まれていないか** ← 新規追加
- [ ] **SNSアカウント名（@ユーザー名）が含まれていないか** ← 新規追加
```

## 実装例（スキル定義への追加）

### 追加場所

`.claude/skills/sns-automation/generate-sns-posts-takano/SKILL.md` の以下のセクション：

1. **禁止事項セクション**（約150行目付近）
2. **品質チェックリストセクション**（約700行目付近）

### 具体的な追加内容

#### 1. 禁止事項セクション

```markdown
## 禁止事項（絶対遵守）

以下の要素は**絶対に使用禁止**：

1. ❌ 曖昧表現（"〜かもしれない"、"〜と思われる"、"〜の可能性がある"）
2. ❌ 過度な絵文字・記号（🔥💡✨等、最大2個まで）
3. ❌ ハッシュタグ（LinkedIn非推奨）
4. ❌ 自己紹介・宣伝（"私は〜"、"弊社では〜"）
5. ❌ 一般論のみ（具体的データ・固有名詞なし）
6. ❌ 感情的煽り（"ヤバい"を除く）
7. ❌ 未検証情報・噂話
8. ❌ 学術論文調（堅すぎる表現）
9. ❌ **SNS数値データ** ← 新規追加
   - いいね数、リツイート数、ビュー数、インプレッション数
   - SNSアカウント名（@ユーザー名）
   - 例: ❌ "SuguruKun_aiのスレッドがいいね1,132を記録"
   - 代替: ✅ "AI開発者コミュニティで大きな反響を呼んでいる"
```

#### 2. データソース言及のガイドライン

```markdown
## 情報源の言及方法

### ❌ 避けるべき表現

- SNSアカウント名: "@SuguruKun_ai"、"SuguruKun_aiのスレッド"
- エンゲージメント数値: "いいね1,132、リツイート105"
- 個人の投稿: "〜が投稿した"

### ✅ 推奨表現

- 公式ソース: "OpenAI Cookbookで正式公開"
- コミュニティ反応: "AI開発者の間で話題になっている"
- 一般的言及: "注目を集めている"、"大きな反響を呼んでいる"
```

## 既存投稿の修正

### 現在の問題箇所

**ファイル**: `posts_generated_takano_20260105_v2.md` - 案2

**問題文**:
```
OpenAI Cookbookで正式公開された「GPT-5.2 Prompting Guide」が、AI開発者の間で話題になってる。
SuguruKun_aiのスレッドがいいね1,132、リツイート105、163,736ビューを記録。
```

**修正後**:
```
OpenAI Cookbookで正式公開された「GPT-5.2 Prompting Guide」が、AI開発者の間で話題になってる。
公式ドキュメントとして正式リリースされ、大きな注目を集めている。
```

または:

```
OpenAI Cookbookで正式公開された「GPT-5.2 Prompting Guide」が、AI開発者コミュニティで大きな反響を呼んでいる。
```

## 次のアクション

### 優先度P0（即時対応）

1. ✅ スキル定義ファイルの修正
   - `.claude/skills/sns-automation/generate-sns-posts-takano/SKILL.md`
   - 禁止事項セクションに追加

2. ✅ 既存投稿の手動修正（Late APIダッシュボード）
   - テスト投稿（Post ID: 695c4cc99511bdf6048eb398）の内容を編集
   - SNS数値データを削除

### 優先度P1（次回生成時）

3. ✅ 次回投稿生成時の確認
   - 修正済みスキルで投稿生成
   - SNS数値データが含まれていないことを確認

## まとめ

### 推奨修正方針

**根本対策**: スキル定義の禁止事項にSNS数値データを追加

**メリット**:
- 今後の投稿で自動的に除外される
- 投稿品質が向上（時間経過で陳腐化しない情報のみ）
- LinkedIn投稿として適切な内容になる

**デメリット**:
- 既存投稿は手動修正が必要

---

**作成日**: 2026-01-06
**優先度**: P0（即時対応）
**影響範囲**: 今後の全投稿生成
