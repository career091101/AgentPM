# 日次タスク管理システム - 使い方ガイド（Ultra Light版）

**作成日**: 2025-12-30
**バージョン**: 2.1 (Ultra Light)
**前提**: タスクを考えるのが苦手な人向け

---

## 📋 概要

**旧仕様との違い**: What/Why/Doneを最初から考えない。まず**悩み・気がかりをinboxに何行でも入れるだけ**で開始。AIが**完了までのTodoパターン（2〜5個）** を提示し、**選ぶだけ**で今日のタスクが決まる。タスクは**Claude Codeで実行可能なプロンプト形式**に変換できる。

**3つのファイルだけ**で運用：
1. `intake_prompt.md` - 4コマンド運用の台本
2. `daily_tasks.yaml` - inbox/candidates/tasks
3. `failure_log.yaml` - 失敗記録
4. `task_prompts.md` - Claude Code実行用プロンプト（自動生成）

---

## 📁 ファイル3つの役割

```
/Users/yuichi/AIPM/aipm_v0/
├── .claude/daily/
│   ├── README.md           # このファイル
│   └── intake_prompt.md    # 4コマンド運用の台本
│
└── Flow/202512/2025-12-30/
    ├── daily_tasks.yaml    # inbox/candidates/tasks
    ├── failure_log.yaml    # 失敗記録
    └── task_prompts.md     # Claude Code実行用プロンプト（自動生成）
```

### 1. `daily_tasks.yaml` - メインファイル
- **inbox**: 悩み・気がかりを何行でも入れる（タスク化しない）
- **candidates**: AIが提示する完了までのTodoパターン（2〜5パターン、各パターンは複数Todo）
- **tasks**: 今日やる確定タスク（制限なし、複数選択可能）

### 2. `failure_log.yaml` - 失敗記録
- エラー発生時に1行追記（time/error/action）

### 3. `intake_prompt.md` - 会話台本
- 4コマンド運用の指示書（通常は触らない）

### 4. `task_prompts.md` - Claude Code実行用プロンプト（自動生成）
- tasks を Claude Code で実行できるプロンプト形式に変換
- 各タスクにコピペ可能なプロンプトブロックを含む

**ベースディレクトリ変更時**: 上記パスを環境に合わせて書き換えてください。

---

## ⚡ 4コマンド運用（固定）

### 1️⃣ タスクメモ（inbox追記）
**目的**: 思いついたこと・悩み・気がかりをinboxに入れる（タスク化しない、何行でもOK）

**ユーザー**: タスクメモ

**Claude**:
```
何が気がかりですか？何行でも入力できます。

【入力例】
・企画書が進まない
・メール返信が溜まってる
・睡眠不足
```

**ユーザー**: 企画書が進まない / メール返信が溜まってる / 睡眠不足 / プレゼン資料作成 / 会議準備

**Claude**:
```yaml
✅ inboxに追加しました

inbox:
  - "企画書が進まない"
  - "メール返信が溜まってる"
  - "睡眠不足"
  - "プレゼン資料作成"
  - "会議準備"
```

---

### 2️⃣ 次の一手（候補生成：1件選択）
**目的**: inbox の1件を、**完了までのTodoパターン（2〜5個）** に分解して candidates に出す

**ユーザー**: 次の一手

**Claude**:
```
inboxから1件選んでください：

1. [inbox項目1]
2. [inbox項目2]
3. [inbox項目3]

番号で指定:
```

**ユーザー**: 1

**Claude**:
```
「[選択した項目]」の完了までのTodo候補：

【パターンA: [アプローチ名]】
1. [Todo1]
2. [Todo2]
3. [Todo3]
→ 完了: [最終成果物]

【パターンB: [アプローチ名]】
1. [Todo1]
2. [Todo2]
3. [Todo3]
4. [Todo4]
→ 完了: [最終成果物]

💡 おすすめ: パターン[A/B]（1→2→3の順で実行）
理由: [推奨理由]

どのパターンで進めますか？(A/B/C...)
```

**ユーザー**: A

**Claude**:
```yaml
✅ candidatesに追加しました

candidates:
  - "パターンA: [アプローチ名]"
  - "1. [Todo1]"
  - "2. [Todo2]"
  - "3. [Todo3]"
  - "→ 完了: [最終成果物]"
```

---

### 2️⃣-B 全部の一手（候補生成：全件一括）
**目的**: inbox の全件について、完了までのTodoパターン（2〜5個）を一括表示

**ユーザー**: 全部の一手

**Claude**:
```
inbox全件の完了までのTodo候補：

【inbox項目1】
パターンA: [アプローチ名]
  1. [Todo1]
  2. [Todo2]
  3. [Todo3]
  → 完了: [最終成果物]

パターンB: [アプローチ名]
  1. [Todo1]
  2. [Todo2]
  3. [Todo3]
  4. [Todo4]
  → 完了: [最終成果物]

💡 おすすめ: パターン[A/B]（1→2→3の順で実行）
理由: [推奨理由]

【inbox項目2】
パターンA: [アプローチ名]
  1. [Todo1]
  2. [Todo2]
  3. [Todo3]
  → 完了: [最終成果物]

💡 おすすめ: パターン[A]（1→2→3の順で実行）
理由: [推奨理由]

どの項目について作業しますか？番号で指定:
1. [inbox項目1]
2. [inbox項目2]
```

**ユーザー**: 1

**Claude**:
```
どのパターンで進めますか？(A/B/C...)
```

**ユーザー**: A

**Claude**:
```yaml
✅ candidatesに追加しました

candidates:
  - "パターンA: [アプローチ名]"
  - "1. [Todo1]"
  - "2. [Todo2]"
  - "3. [Todo3]"
  - "→ 完了: [最終成果物]"
```

---

### 3️⃣ これやる（tasks確定）
**目的**: candidates から複数または全部選び、tasks へ移動（今日の確定タスク）

**ユーザー**: これやる

**Claude**:
```
どれをやりますか？(A/B/C、複数選択可、例: A,C または 全部)
```

**ユーザー**: A,C

**Claude**:
```
各パターンのDone定義を選んでください：

パターンA: [アプローチ名]
1. [A用完了基準1]
2. [A用完了基準2]
3. [A用完了基準3]

パターンC: [アプローチ名]
1. [C用完了基準1]
2. [C用完了基準2]

💡 おすすめ: A=1または2, C=1
理由: パターンAは1と2のどちらも適切（1は早期完了重視、2は品質重視）。パターンCは1が最適。

入力形式: A=1, C=2（カンマ区切りで指定）
```

**ユーザー**: A=1, C=2

**Claude**:
```yaml
✅ tasksに追加しました（2個追加）

tasks:
  - id: T001
    what: "[パターンAの内容]"
    done: "[選択したDone定義]"
    status: pending
    created_at: "2025-12-30 09:00"

  - id: T002
    what: "[パターンCの内容]"
    done: "[選択したDone定義]"
    status: pending
    created_at: "2025-12-30 09:01"
```

---

### 4️⃣ タスクプロンプト生成（task_prompts.md作成）
**目的**: tasks を Claude Code で実行できるプロンプト形式に変換

**ユーザー**: タスクプロンプト生成

**Claude**:
1. `daily_tasks.yaml` の tasks セクションを読み込み
2. 各タスクをClaude Code実行可能なプロンプトに変換
3. `task_prompts.md` を作成

**Claude**:
```
✅ task_prompts.md を作成しました

対象タスク: 3個
保存先: Flow/202512/2025-12-30/task_prompts.md

各タスクのプロンプトをClaude Codeにコピペして実行できます。
```

### task_prompts.md の構造

```markdown
# Claude Code実行用タスクプロンプト

**生成日時**: 2025-12-30
**対象**: daily_tasks.yaml の全タスク

**✨ 使い方**:
1. 各タスクの「📋 実行用プロンプト」セクションのコードブロックを見つける
2. コードブロック全体を選択してコピー
3. Claude Codeに貼り付けて実行

---

## [タスクグループ名] タスク（3ステップ）

### T001-1: [タスク名]

**📋 実行用プロンプト（以下のコードブロックをコピー）**:

```
[このタスクを実行するための詳細なシステムプロンプト]

目的: [タスクの目的]
手順:
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

完了基準: [Done定義]
```

（全タスク分を生成）
```

---

## 📊 daily_tasks.yaml フォーマット（完全例）

```yaml
date: 2025-12-30

inbox:
  - "企画書が進まない"
  - "メール返信が溜まってる"
  - "睡眠不足"

candidates:
  - "パターンA: [アプローチ名]"
  - "1. [Todo1]"
  - "2. [Todo2]"
  - "3. [Todo3]"
  - "→ 完了: [最終成果物]"

tasks:
  - id: T001
    what: "[Todo1]"
    done: "[完了基準]"
    status: pending
    created_at: "2025-12-30 09:00"

  - id: T002
    what: "[Todo2]"
    done: "[完了基準]"
    status: completed
    created_at: "2025-12-30 10:30"
```

### フィールド説明
- **inbox**: 悩み・気がかり（文字列配列、無制限）
- **candidates**: AIが提示する完了までのTodoパターン（文字列配列、パターン名+Todoリスト）
- **tasks**: 今日やる確定タスク（最大3個推奨）
  - **id**: T001, T002, ... （自動採番）
  - **what**: やること（TodoパターンからTodoを選択）
  - **done**: 完了の定義（Todoに適した候補から選択）
  - **status**: pending / completed
  - **created_at**: タスク確定時刻

**重要**: `total_tasks` や `completed` は削除しました（手入力負担のため）。必要なら夜に目視確認するか、将来スクリプト化してください。

---

## 🚨 failure_log.yaml フォーマット（完全例）

```yaml
date: 2025-12-30

failures:
  - time: "14:30"
    error: "FileNotFoundError: daily_tasks.yaml not found"
    action: "ディレクトリ作成して再実行"

  - time: "15:00"
    error: "import エラー: module not found"
    action: "pip install pyyaml 実行"

  - time: "16:20"
    error: "YAML構文エラー: インデント不正"
    action: "スペース2個に統一して修正"
```

### フィールド説明
- **time**: エラー発生時刻
- **error**: エラー内容（1行で簡潔に）
- **action**: 対処方法

**運用の軽さ**: エラーが起きたら即座に1行追記。夜に見返して同じエラーが多ければ根本対策。

**重要**: `total_failures` は削除しました（手入力負担のため）。

---

## 🔄 毎日のルーチン

### 【朝】inbox に3行入れる（3分）

#### Step 1: 新しい日のフォルダ作成
```bash
cd /Users/yuichi/AIPM/aipm_v0
mkdir -p Flow/202512/$(date +%Y-%m-%d)
cp Flow/202512/2025-12-30/daily_tasks.yaml Flow/202512/$(date +%Y-%m-%d)/
cp Flow/202512/2025-12-30/failure_log.yaml Flow/202512/$(date +%Y-%m-%d)/
```

#### Step 2: 起動タスク（思いつかない日でも回す）
「**タスクメモ**」→ inbox に気がかりを入れる

**デフォルトタスク**:
```yaml
tasks:
  - id: T000
    what: "inboxに気がかりを入れる"
    done: "1つ以上入ったら完了"
    status: pending
```

---

### 【日中】タスク実行（1-2時間）

#### タスク実行中
```yaml
# daily_tasks.yaml を開く
tasks:
  - id: T001
    what: "企画書の目次を箇条書きで5行書く"
    done: "メモが5行ある"
    status: pending  # 作業中
```

#### タスク完了
```yaml
status: completed  # 完了時に変更
```

#### 失敗記録（エラー発生時）
```yaml
# failure_log.yaml に1行追記
failures:
  - time: "14:30"
    error: "企画書の参考資料が見つからない"
    action: "上司にSlackで聞く"
```

---

### 【夜】振り返り（3分）

#### 完了確認（目視でOK）
```bash
# daily_tasks.yaml を開いて目視
tasks:
  - status: completed  # ✅
  - status: completed  # ✅
  - status: pending    # ❌（明日へ繰り越し）
```

#### 明日のinbox先行登録（オプション）
「**タスクメモ**」で明日の気がかりを1-2個登録しておく

---

## 🎯 運用ルール

### 1日のtasksは最大3個
- 1個でもOK
- 3個超えたら inbox に戻す

### inboxは無制限
- 思いついたら即追記
- タスク化しなくてもOK（書き溜める場所）

### candidatesは使い捨て
- 選んだらtasksへ移動
- 選ばなかったB/Cは削除してOK

### Doneは選ぶだけ
- 自分で考えない
- テンプレ6個から選択

---

## 💡 Tips

### 思いつかない時の型（inbox の書き方例）

【入力パターン例】
```yaml
inbox:
  - "〇〇が進まない"        # 詰まってること
  - "△△を忘れそう"         # 気がかり
  - "□□が不安"            # モヤモヤ
  - "××を聞きたい"         # 相談事
  - "◎◎を整理したい"      # やりたいこと
```

**ポイント**: 完璧な文章不要。単語でもOK。

---

### Todoパターンの選び方
AIが提示する完了までのTodoパターン（2〜5個）から選びます：
- **各パターン**: 完了までのTodoリスト（1→2→3...）と最終成果物を提示
- **Todoは具体的**: 実行可能な具体的アクション
- **時間指定なし**: 所要時間や期間の記載は不要

**💡 おすすめ表示を参考に**: AIが最も効果的なパターンとTodo実行順序を推奨し、理由を説明します。迷ったらおすすめを選びましょう。

---

### Done定義の選び方
AIがタスクの性質に応じて適切な候補（2〜5個）を提示します：

**共通パターン例**:
- **成果物系**: 「送れる/提出できる状態」「レビュー通過」「承認済み」
- **検証系**: 「動作確認が1回通る」「テスト全通過」
- **調査系**: 「メモが5行ある」「レポート完成」
- **計画系**: 「次のステップが1行で書ける」「アクションプラン完成」
- **その他**: 「ファイルが1つ増える」「MTG完了」「後で決める（空）」

**💡 おすすめ表示を参考に**: AIが適切な完了基準を1つまたは複数選んで理由を説明します（複数推奨もあります）。

---

## 🐛 トラブルシューティング

### Q1: ファイルが見つからない
**A**: 以下のコマンドで確認：
```bash
ls -l /Users/yuichi/AIPM/aipm_v0/Flow/202512/2025-12-30/
```
なければディレクトリを作成：
```bash
mkdir -p /Users/yuichi/AIPM/aipm_v0/Flow/202512/2025-12-30
```

---

### Q2: YAML構文エラーが出る
**A**: インデントをスペース2個に統一してください。タブは使用禁止。

**よくあるミス**:
```yaml
# ❌ タブ使用
tasks:
	- id: T001  # NG

# ✅ スペース2個
tasks:
  - id: T001  # OK
```

---

### Q3: 提示された候補が刺さらない
**A**: 「次の一手」を再実行してください。別の候補が出ます。

**それでも刺さらない場合**:
- inbox の別の項目を選ぶ
- 「タスクメモ」で新しい悩みを追加
- AIのレコメンド理由を読んで再検討する

---

### Q4: タスクが多すぎて管理できない
**A**: 1日3個まで。超えたら inbox に戻してください。

```yaml
# ❌ 多すぎる例
tasks:
  - id: T001  # pending
  - id: T002  # pending
  - id: T003  # pending
  - id: T004  # pending ← これはinboxへ戻す
  - id: T005  # pending ← これもinboxへ戻す
```

---

### Q5: inboxに何を書けばいいかわからない
**A**: 「〇〇が進まない」「△△が不安」など、モヤモヤを単語で書いてください。

【入力例】
```yaml
inbox:
  - "企画書"           # 単語だけでもOK
  - "メール"           # これもOK
  - "睡眠"             # これもOK
```

---

## 🔄 次のステップ（段階的拡張）

### Week 1: 習慣化（軽さを壊さない）
- [ ] 毎日 inbox に3行入れる
- [ ] 1日1タスクでもOK（完璧主義にしない）
- [ ] failure_log 10件蓄積

### Week 2: 候補の質向上（軽さを壊さない）
- [ ] 候補の提示精度を上げる（AIプロンプト調整）
- [ ] Done定義を自分用にカスタマイズ

### Week 3-4: 振り返り機能（軽さを壊さない）
- [ ] 週次レトロ（週末5分で完了したタスクを振り返る）
- [ ] inbox の整理（週1回、溜まったら削除）

**重要**: "軽さを壊さない拡張"のみ実施。複雑化したら本末転倒。

---

## ✅ 成功基準

### 日次運用が回っている状態
- [ ] 毎朝 inbox に3行入れられる
- [ ] 1日1タスク完了できる（3個でなくてもOK）
- [ ] 失敗を1行で記録できる

### 1週間後の目標
- [ ] inbox に30行以上溜まっている（= 習慣化）
- [ ] tasks 完了が5個以上（= 1日1個ペース）
- [ ] failure_log が5-10件蓄積

---

## 📚 参考ファイル

- **このREADME**: `/Users/yuichi/AIPM/aipm_v0/.claude/daily/README.md`
- **3コマンド台本**: `/Users/yuichi/AIPM/aipm_v0/.claude/daily/intake_prompt.md`
- **タスクリスト**: `/Users/yuichi/AIPM/aipm_v0/Flow/202512/2025-12-30/daily_tasks.yaml`
- **失敗記録**: `/Users/yuichi/AIPM/aipm_v0/Flow/202512/2025-12-30/failure_log.yaml`
- **実装計画**: `/Users/yuichi/.claude/plans/curried-churning-gosling.md`

---

**更新履歴**:
- 2025-12-30 v2.1: Ultra Light 4コマンド運用（タスクプロンプト生成機能追加）
- 2025-12-30 v2.0: Ultra Light版に全面改訂（inbox/candidates/tasks 3コマンド運用）
- 2025-12-30 v1.0: MVP初版リリース（旧仕様: What/Why/Done 3質問）

**作成者**: Claude Sonnet 4.5
**実装方針**: タスクを考えない → 悩みを書く → AIが候補提示 → 選ぶだけ → Claude Codeで実行
