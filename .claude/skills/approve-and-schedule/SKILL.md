# approve-and-schedule

---
name: approve-and-schedule
description: |
  æŠ•ç¨¿æ–‡3æ¡ˆã‚’Web UI/Slackã§æ‰¿èªã—ã€è‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãƒ»æŠ•ç¨¿ã‚’å®Ÿè¡Œã€‚
  æ‰€è¦æ™‚é–“: 5-10åˆ†ã€å‡ºåŠ›: posts_queue_{YYYYMMDD}.json
version: 2.0.0
trigger_keywords:
  - "æŠ•ç¨¿æ‰¿èª"
  - "Slackæ‰¿èª"
  - "è‡ªå‹•æŠ•ç¨¿"
  - "approve-and-schedule"
stage: Phase 3b - Approval & Posting
dependencies:
  - generate-sns-posts
output_file: "Stock/programs/å‰¯æ¥­/projects/SNS/data/posts_queue_{YYYYMMDD}.json"
execution_time: "5-10åˆ†"
priority: P1
model: claude-haiku-4-5-20251001  # Haiku 4.5 (2026å¹´1æœˆæ™‚ç‚¹ã®æœ€æ–°ãƒ¢ãƒ‡ãƒ«)
thinking: false
---

## Overview

generate-sns-postsã‚¹ã‚­ãƒ«ãŒç”Ÿæˆã—ãŸLinkedInæŠ•ç¨¿3æ¡ˆã‚’**Web UI**ï¼ˆReactï¼‰ã¾ãŸã¯**Slack**ã§æ‰¿èªã‚’å—ã‘ä»˜ã‘ã¾ã™ã€‚æ‰¿èªå¾Œã€Late APIçµŒç”±ã§ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã®æŒ‡å®šæ™‚åˆ»ã«è‡ªå‹•æŠ•ç¨¿ã—ã¾ã™ã€‚

**ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥æŠ•ç¨¿æ™‚åˆ»ï¼ˆJSTï¼‰**:
- **LinkedIn**: ç¿Œæœ 8:00
- **X (Twitter)**: ç¿Œå¤œ 20:00
- **Threads**: ç¿Œå¤œ 20:00
- **Facebook**: ç¿Œå¤œ 20:00

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Approval & Schedule Flow                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ posts_queue/ â”‚ â†’ â”‚ Web UI/Slack â”‚ â†’ â”‚ posts_approved/   â”‚  â”‚
â”‚  â”‚ (æœªæ‰¿èª)     â”‚    â”‚ (æ‰¿èªæ“ä½œ)   â”‚    â”‚ (æ‰¿èªæ¸ˆã¿)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                     â”‚            â”‚
â”‚                              â–¼                     â–¼            â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                    â”‚ AI Refine   â”‚    â”‚ Late API         â”‚    â”‚
â”‚                    â”‚ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) â”‚    â”‚ (è‡ªå‹•æŠ•ç¨¿äºˆç´„)   â”‚    â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                   â”‚            â”‚
â”‚                                                   â–¼            â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                        â”‚ posts_archived/  â”‚    â”‚
â”‚                                        â”‚ (æŠ•ç¨¿å®Œäº†)       â”‚    â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Success Criteria

- [ ] Web UI/Slackã§ã®æ‰¿èªæˆåŠŸç‡ 100%
- [ ] AIä¿®æ­£ï¼ˆrefineï¼‰æ©Ÿèƒ½å‹•ä½œç¢ºèª
- [ ] æ‰¿èªã‹ã‚‰ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã‚­ãƒ¥ãƒ¼ä½œæˆã¾ã§5åˆ†ä»¥å†…
- [ ] LinkedIn/X/Threads è‡ªå‹•æŠ•ç¨¿æˆåŠŸç‡ 99%ä»¥ä¸Š
- [ ] ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥æŠ•ç¨¿æ™‚åˆ»ã®è‡ªå‹•è¨ˆç®—

---

## Instructions

### STEP 1: å‰æç¢ºèª

**å¿…è¦ãªã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•**:
```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIèµ·å‹•ï¼ˆPort 5555ï¼‰
cd /Users/yuichi/AIPM/aipm_v0/Stock/programs/å‰¯æ¥­/projects/SNS
python3 scripts/sns_approval_api.py &

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UIèµ·å‹•ï¼ˆPort 3000ï¼‰
cd frontend && npm run dev &
```

**ç’°å¢ƒå¤‰æ•°ç¢ºèª**ï¼ˆ`.env`ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰:
```bash
# Late APIï¼ˆSNSæŠ•ç¨¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ï¼‰
LATE_API_KEY=your-late-api-key
LATE_LINKEDIN_ACCOUNT_ID=xxx
LATE_X_ACCOUNT_ID=xxx
LATE_THREADS_ACCOUNT_ID=xxx

# Slackçµ±åˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
SLACK_BOT_TOKEN=xoxb-xxx
SLACK_CHANNEL=#sns-approval
SLACK_SIGNING_SECRET=xxx

# OpenAIï¼ˆAIä¿®æ­£ç”¨ï¼‰
OPENAI_API_KEY=sk-xxx
```

---

### STEP 2: æ‰¿èªå¾…ã¡ã‚­ãƒ¥ãƒ¼ã®ç¢ºèª

**æ–¹æ³•A: Web UIï¼ˆæ¨å¥¨ï¼‰**
1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ã
2. ã€Œæ‰¿èªå¾…ã¡ã€ã‚¿ãƒ–ã§3æ¡ˆã‚’ç¢ºèª
3. å„æ¡ˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ç·¨é›†ãƒ»æ‰¿èªãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**æ–¹æ³•B: APIç›´æ¥å‘¼ã³å‡ºã—**
```bash
# æœªæ‰¿èªã‚­ãƒ¥ãƒ¼ä¸€è¦§å–å¾—
curl http://localhost:5555/api/queue/pending

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:
{
  "pending_posts": [
    {
      "queue_id": "26c8a87e",
      "created_at": "2026-01-04T10:00:00",
      "topic": {"theme": "AIæ™‚ä»£ã®ã‚­ãƒ£ãƒªã‚¢æˆ¦ç•¥"},
      "posts": [
        {"variant": 1, "type": "æ•°å­—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆå‹", "content": "..."},
        {"variant": 2, "type": "è¡æ’ƒç™ºè¨€å‹", "content": "..."},
        {"variant": 3, "type": "å•é¡Œæèµ·å‹", "content": "..."}
      ]
    }
  ],
  "count": 1
}
```

---

### STEP 3: æŠ•ç¨¿æ¡ˆã®æ‰¿èª

**æ–¹æ³•A: Web UIã§ã®æ‰¿èªï¼ˆæ¨å¥¨ï¼‰**
1. æ‰¿èªã—ãŸã„æ¡ˆã®ã€Œæ‰¿èªã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤º
3. æŠ•ç¨¿å…ˆï¼ˆLinkedIn, X, Threadsï¼‰ã‚’é¸æŠ
4. ã€Œæ‰¿èªã—ã¦æŠ•ç¨¿äºˆç´„ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

**æ–¹æ³•B: ç·¨é›†å¾Œã«æ‰¿èªï¼ˆAIä¿®æ­£ã‚ã‚Šï¼‰**
1. ã€Œç·¨é›†ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ä¿®æ­£æŒ‡ç¤ºã‚’å…¥åŠ›ï¼ˆä¾‹: "ã‚‚ã£ã¨ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«", "ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’æ¸›ã‚‰ã—ã¦"ï¼‰
3. AIãŒä¿®æ­£æ¡ˆã‚’ç”Ÿæˆ
4. ä¿®æ­£å¾Œã®å†…å®¹ã§ã€Œæ‰¿èªã€

**æ–¹æ³•C: APIç›´æ¥å‘¼ã³å‡ºã—**
```bash
# æ‰¿èªï¼‹è‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ï¼ˆãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ï¼‰
curl -X POST http://localhost:5555/api/queue/approve-and-schedule \
  -H "Content-Type: application/json" \
  -d '{
    "queue_id": "26c8a87e",
    "variant_index": 0,
    "platforms": ["LinkedIn", "X", "Threads"]
  }'

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:
{
  "success": true,
  "queue_id": "26c8a87e",
  "scheduled_info": {
    "LinkedIn": {
      "scheduled_time": "2026-01-05T08:00:00+09:00",
      "late_post_id": "late_abc123"
    },
    "X": {
      "scheduled_time": "2026-01-05T20:00:00+09:00",
      "late_post_id": "late_def456"
    },
    "Threads": {
      "scheduled_time": "2026-01-05T20:00:00+09:00",
      "late_post_id": "late_ghi789"
    }
  }
}
```

---

### STEP 4: AIä¿®æ­£ï¼ˆRefineï¼‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³

æŠ•ç¨¿æ¡ˆã‚’ä¿®æ­£ã—ãŸã„å ´åˆã€OpenAI GPT-5.2ã‚’ä½¿ç”¨ã—ã¦AIä¿®æ­£ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

**APIå‘¼ã³å‡ºã—**:
```bash
curl -X POST http://localhost:5555/api/refine \
  -H "Content-Type: application/json" \
  -d '{
    "variant_num": "æ¡ˆ1",
    "instruction": "ã‚‚ã£ã¨ãƒ•ã‚©ãƒ¼ãƒãƒ«ãªãƒˆãƒ¼ãƒ³ã«å¤‰æ›´ã—ã¦"
  }'

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:
{
  "success": true,
  "refined_content": "ã€ä¿®æ­£å¾Œã®æŠ•ç¨¿æ–‡ã€‘...",
  "session_id": "abc12345",
  "original_content": "ã€å…ƒã®æŠ•ç¨¿æ–‡ã€‘..."
}
```

**ä¿®æ­£å±¥æ­´ã®å–å¾—**:
```bash
curl http://localhost:5555/api/refine/abc12345
```

---

### STEP 5: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ç¢ºèª

**æ‰¿èªæ¸ˆã¿ã‚­ãƒ¥ãƒ¼ç¢ºèª**:
```bash
curl http://localhost:5555/api/queue/approved

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:
{
  "approved_posts": [
    {
      "queue_id": "26c8a87e",
      "approved_at": "2026-01-04T12:00:00",
      "status": "scheduled",
      "scheduled_info": {
        "LinkedIn": {"scheduled_time": "2026-01-05T08:00:00+09:00"},
        "X": {"scheduled_time": "2026-01-05T20:00:00+09:00"}
      },
      "approved_post": {"content": "..."}
    }
  ],
  "count": 1
}
```

**Late APIäºˆç´„ç¢ºèª**:
```bash
curl http://localhost:5555/api/scheduled-jobs
```

---

### STEP 6: å´ä¸‹ï¼ˆRejectï¼‰

ä¸è¦ãªæŠ•ç¨¿æ¡ˆã‚’å´ä¸‹ã™ã‚‹å ´åˆ:

```bash
curl -X POST http://localhost:5555/api/queue/reject \
  -H "Content-Type: application/json" \
  -d '{
    "queue_id": "26c8a87e",
    "reason": "ãƒˆãƒ”ãƒƒã‚¯ãŒä¸é©åˆ‡"
  }'
```

å´ä¸‹ã•ã‚ŒãŸæŠ•ç¨¿æ¡ˆã¯ `posts_archived/` ã«ç§»å‹•ã•ã‚Œã¾ã™ã€‚

---

## API Endpoints Summary

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|--------------|---------|------|
| `/api/queue/pending` | GET | æœªæ‰¿èªã‚­ãƒ¥ãƒ¼ä¸€è¦§ |
| `/api/queue/approved` | GET | æ‰¿èªæ¸ˆã¿ã‚­ãƒ¥ãƒ¼ä¸€è¦§ |
| `/api/queue/approve` | POST | æŠ•ç¨¿æ¡ˆã‚’æ‰¿èª |
| `/api/queue/approve-and-schedule` | POST | æ‰¿èªï¼‹è‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ï¼ˆæ¨å¥¨ï¼‰ |
| `/api/queue/reject` | POST | æŠ•ç¨¿æ¡ˆã‚’å´ä¸‹ |
| `/api/refine` | POST | AIä¿®æ­£ã‚’å®Ÿè¡Œ |
| `/api/scheduled-jobs` | GET | ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ¸ˆã¿æŠ•ç¨¿ä¸€è¦§ |
| `/api/health` | GET | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ |

---

## Platform Scheduling Logic

### è‡ªå‹•æ™‚åˆ»è¨ˆç®—

`ApprovalQueueManager.get_next_available_schedule_times()` ãŒæ¬¡å›æŠ•ç¨¿æ™‚åˆ»ã‚’è‡ªå‹•è¨ˆç®—:

```python
PLATFORM_DEFAULT_TIMES = {
    "LinkedIn": {"hour": 8, "minute": 0},   # æœ8:00 JST
    "X": {"hour": 20, "minute": 0},         # å¤œ20:00 JST
    "Threads": {"hour": 20, "minute": 0},   # å¤œ20:00 JST
    "Facebook": {"hour": 20, "minute": 0}   # å¤œ20:00 JST
}
```

**è¡çªå›é¿ãƒ­ã‚¸ãƒƒã‚¯**:
- æ—¢å­˜ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨åŒæ™‚åˆ»ã®å ´åˆã€1æ™‚é–“ãšã‚‰ã™
- ä¾‹: LinkedIn 8:00ãŒåŸ‹ã¾ã£ã¦ã„ã‚Œã° 9:00ã«äºˆç´„

---

## Slack Integrationï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

Slackã‹ã‚‰ã®æ‰¿èªã‚‚å¯èƒ½ã§ã™ï¼ˆç’°å¢ƒå¤‰æ•° `SLACK_BOT_TOKEN` è¨­å®šæ™‚ï¼‰ã€‚

**Slacké€šçŸ¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```
ğŸ“ æ–°ã—ã„æŠ•ç¨¿æ¡ˆãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸ

ã€æ¡ˆ1ã€‘æ•°å­—ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆå‹
"2027å¹´ã¾ã§ã«AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒ..."

ã€æ¡ˆ2ã€‘è¡æ’ƒç™ºè¨€å‹
"ä»Šæ—¥ã‹ã‚‰AIã«ä»•äº‹ã‚’å¥ªã‚ã‚Œã‚‹..."

ã€æ¡ˆ3ã€‘å•é¡Œæèµ·å‹
"ã‚ãªãŸã®ã‚­ãƒ£ãƒªã‚¢æˆ¦ç•¥ã€æœ¬å½“ã«..."

[æ¡ˆ1ã‚’æ‰¿èª] [æ¡ˆ2ã‚’æ‰¿èª] [æ¡ˆ3ã‚’æ‰¿èª] [å´ä¸‹]
```

**Slackãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å‡¦ç†**:
- `/api/slack/interactive` ã§ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡
- æ‰¿èªå¾Œã¯Web UIåŒæ§˜ã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°å®Ÿè¡Œ

---

## Error Handling

### ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹åˆ¥å¯¾å¿œ

| ã‚¨ãƒ©ãƒ¼ | åŸå›  | å¯¾å¿œ |
|-------|------|------|
| `not_in_channel` | SlackãƒœãƒƒãƒˆãŒãƒãƒ£ãƒ³ãƒãƒ«æœªå‚åŠ  | `/invite @bot-name` ã§æ‹›å¾… |
| `invalid_auth` | Late APIã‚­ãƒ¼ç„¡åŠ¹ | `.env`ã®`LATE_API_KEY`ã‚’ç¢ºèª |
| `Cast to ObjectId failed` | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDä¸æ­£ | Late APIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç¢ºèª |
| `500 Server Error` | Late APIã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ | 5åˆ†å¾Œã«å†è©¦è¡Œ |
| `OpenAI API error` | AIä¿®æ­£å¤±æ•— | ä¿®æ­£æŒ‡ç¤ºã‚’ç°¡æ½”ã«å¤‰æ›´ |

### ãƒªãƒˆãƒ©ã‚¤è¨­å®š

Late APIã¸ã®æŠ•ç¨¿äºˆç´„ã¯è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ï¼ˆæœ€å¤§3å›ï¼‰:
- 1å›ç›®å¤±æ•—: 5ç§’å¾Œã«ãƒªãƒˆãƒ©ã‚¤
- 2å›ç›®å¤±æ•—: 15ç§’å¾Œã«ãƒªãƒˆãƒ©ã‚¤
- 3å›ç›®å¤±æ•—: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«è¨˜éŒ²ã€æ‰‹å‹•å¯¾å¿œ

---

## File Structure

```
data/
â”œâ”€â”€ posts_queue/           # æœªæ‰¿èªæŠ•ç¨¿æ¡ˆ
â”‚   â””â”€â”€ pending_20260104_120000_abc12345.json
â”œâ”€â”€ posts_approved/        # æ‰¿èªæ¸ˆã¿ï¼ˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å¾…ã¡/æ¸ˆã¿ï¼‰
â”‚   â””â”€â”€ approved_20260104_130000_abc12345.json
â”œâ”€â”€ posts_archived/        # å´ä¸‹ or æŠ•ç¨¿å®Œäº†
â”‚   â”œâ”€â”€ rejected_20260104_140000_def67890.json
â”‚   â””â”€â”€ posted_20260104_200000_abc12345.json
â””â”€â”€ post_result_*.json     # Late APIæŠ•ç¨¿çµæœ
```

---

## Integration with generate-sns-posts

`generate-sns-posts`ã‚¹ã‚­ãƒ«å®Ÿè¡Œå¾Œã€è‡ªå‹•çš„ã«ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ :

```bash
# generate-sns-postså®Ÿè¡Œ
/generate-sns-posts

# å‡ºåŠ›: posts_generated_20260104.json
# â†“ è‡ªå‹•çš„ã«ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
# å‡ºåŠ›: posts_queue/pending_20260104_120000_abc12345.json
```

---

## Reference

- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API**: `scripts/sns_approval_api.py`
- **ã‚­ãƒ¥ãƒ¼ç®¡ç†**: `scripts/approval_queue_manager.py`
- **Late APIé€£æº**: `scripts/post_to_sns_late.py`
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UI**: `frontend/src/components/ApprovalQueueTab.jsx`
- **ä¾å­˜ã‚¹ã‚­ãƒ«**: `generate-sns-posts/SKILL.md`

---

## Changelog

- **v2.0.0** (2026-01-04): Web UIçµ±åˆã€ApprovalQueueManagerå°å…¥ã€Late APIè‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°
- **v1.0.0** (2026-01-01): åˆç‰ˆï¼ˆSlack Block Kitæ‰¿èªã®ã¿ï¼‰

