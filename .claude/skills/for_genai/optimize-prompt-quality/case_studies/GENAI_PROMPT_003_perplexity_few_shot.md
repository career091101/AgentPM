---
id: GENAI_PROMPT_003
title: "Perplexity - Few-shot Examples Prompt Optimization"
product: Perplexity
pattern: "Few-shot Learning"
improvement: "検索精度 90% → 96%"
tags: ["Prompt Optimization", "Few-shot", "Perplexity", "Search"]
tier: 2
---

# Perplexity - Few-shot Examples Prompt Optimization

## プロンプト最適化サマリー

| 指標 | 改善前 | 改善後 | 改善率 |
|------|--------|--------|--------|
| AI精度（検索精度） | 90% | 96% | +6% |
| 応答速度 | 2.8秒 | 2.5秒 | -0.3秒 |
| ハルシネーション率 | 4% | 2% | -2% |
| プロンプトコスト | $0.025/1K | $0.032/1K | +28% |

## 背景

Perplexityは、検索特化AI製品として、検索クエリと期待回答の3-5例をFew-shotとして提示し、検索精度を大幅に向上。特に引用精度、事実確認タスクで効果を確認。

## 最適化戦略

### 適用パターン: Few-shot Learning（3-5例）

**改善前プロンプト**:
```
ユーザーの質問に答え、必ず引用元を明記してください。
```

**改善後プロンプト**:
```
ユーザーの質問に答え、必ず引用元を明記してください。

例1:
質問: 「GPT-4のパラメータ数は？」
回答: 「GPT-4のパラメータ数は公式には非公開ですが、推定1.76兆パラメータとされています（出典: The Verge, 2023年3月）。」

例2:
質問: 「ChatGPTのユーザー数は？」
回答: 「ChatGPTは2023年11月時点で週間アクティブユーザー1億人を突破しました（出典: OpenAI公式発表）。」

例3:
質問: 「Claude Proの料金は？」
回答: 「Claude Proの料金は月額$20です（出典: Anthropic公式サイト）。」

では、以下の質問に答えてください:
```

## A/Bテスト結果

| 指標 | Few-shot なし | Few-shot あり（3-5例） | p値 | 判定 |
|------|------------|---------------------|-----|:----:|
| **検索精度** | 90.0% | 96.0% | 0.0015 | ✅ 有意差あり |
| **引用精度** | 85% | 93% | 0.0008 | ✅ 有意差あり |
| **ハルシネーション率** | 4.0% | 2.0% | 0.0025 | ✅ 有意差あり |

## 成功要因

1. **Few-shot最も効果大**: AI精度+6%（最大改善幅）
2. **引用精度向上**: 出典明記の例示により、引用精度+8%
3. **出力フォーマット統一**: 例示により、一貫性向上

## 教訓

- **Few-shot Learning最優先**: 最も効果大（AI精度+6-15%）
- **3-5例が最適**: 10例以上は効果飽和、コスト増
- **高品質な例選定**: 人間レビュー済み、多様性確保

## 参照

- **出典**: Perplexity AI Technical Blog (2023)
