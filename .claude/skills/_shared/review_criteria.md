# Review Criteria - ドキュメント品質基準

レビューループにおけるドキュメント品質基準の詳細定義。

**最終更新**: 2026-01-02
**バージョン**: 2.0（ドキュメント品質版）

---

## 品質スコア計算式

```
quality_score =
    completeness_score * 0.25 +      # 完全性（25点）
    logic_score * 0.25 +              # 論理性（25点）
    specificity_score * 0.20 +        # 具体性（20点）
    evidence_score * 0.15 +           # エビデンス（15点）
    framework_compliance_score * 0.15 # フレームワーク準拠性（15点）
```

**満点**: 100点
**合格基準**: 70点以上

---

## 1. completeness_score（完全性: 25点満点）

### 概要

ドキュメントタイプごとに定義された必須セクションがすべて含まれているかを確認。

### ドキュメントタイプ別必須セクション

#### cpf_judgment（CPF検証レポート）
- 顧客セグメント
- 課題
- 解決策
- 独自の価値提案
- 不公正な優位性
- 主要指標
- チャネル
- コスト構造
- 収益の流れ
- CPFスコア

#### lean_canvas（リーンキャンバス）
- 課題
- ソリューション
- 独自の価値提案
- 圧倒的な優位性
- 顧客セグメント
- 既存の代替品
- チャネル
- 収益の流れ
- コスト構造
- 主要指標

#### pitch_deck（ピッチデッキ）
- タイトル
- 課題
- ソリューション
- 市場規模
- ビジネスモデル
- トラクション
- 競合優位性
- チーム
- 資金調達

### 計算方法

```
completeness_score = (found_sections / required_sections) * 25

found_sections: 検出された必須セクション数
required_sections: 必須セクション総数
```

### 判定基準

| スコア | 判定 | 完全性 |
|--------|------|--------|
| 25点 | ✅ 完璧 | 100%（全セクション存在） |
| 20-24点 | ✅ 良好 | 80-99% |
| 15-19点 | ⚠️ 要改善 | 60-79% |
| 0-14点 | ❌ 不合格 | 60%未満 |

---

## 2. logic_score（論理性: 25点満点）

### 概要

LLMがドキュメントの論理的一貫性を評価。

### 評価項目

1. **一貫性チェック**: 文書内に矛盾がないか
   - 例: 「市場規模が小さい」と言いながら「急成長市場」と主張
2. **因果関係チェック**: 主張に対する根拠が明確か
   - 例: 「このソリューションで解決できる」の根拠が不明
3. **結論チェック**: 結論が前提や証拠から適切に導かれているか

### LLMプロンプト例

```
以下のドキュメントの論理的一貫性を評価してください。

1. 文書内に矛盾がないか
2. 主張に対する根拠が明確か
3. 結論が前提から適切に導かれているか

25点満点でスコアを付け、問題点を具体的に指摘してください。
```

### 判定基準

| スコア | 判定 | 状態 |
|--------|------|------|
| 25点 | ✅ 完璧 | 矛盾なし、論理的整合性高い |
| 20-24点 | ✅ 良好 | 軽微な論理の飛躍あり |
| 15-19点 | ⚠️ 要改善 | 因果関係が不明確 |
| 0-14点 | ❌ 不合格 | 重大な矛盾あり |

---

## 3. specificity_score（具体性: 20点満点）

### 概要

LLMが具体的な数値、固有名詞、事例の有無を評価。

### 評価項目

1. **数値データチェック**: 具体的な数値が含まれているか
   - ✅ 良い例: 「500人のユーザー」「月額$99」「成長率30%」
   - ❌ 悪い例: 「多くのユーザー」「手頃な価格」「高い成長率」

2. **固有名詞チェック**: 具体的な企業名、製品名、技術名
   - ✅ 良い例: 「React」「AWS」「Notion」
   - ❌ 悪い例: 「優れた技術」「クラウドサービス」

3. **事例チェック**: 具体的な事例や実例が含まれているか
   - ✅ 良い例: 「A社では導入後3ヶ月で売上20%向上」
   - ❌ 悪い例: 「多くの企業で成功している」

### LLMプロンプト例

```
以下のドキュメントの具体性を評価してください。

1. 具体的な数値が含まれているか
2. 固有名詞（企業名、製品名、技術名）が含まれているか
3. 具体的な事例が含まれているか

抽象的な表現をリストアップし、20点満点でスコアを付けてください。
```

### 判定基準

| スコア | 判定 | 状態 |
|--------|------|------|
| 20点 | ✅ 完璧 | 数値・固有名詞・事例が豊富 |
| 16-19点 | ✅ 良好 | 概ね具体的 |
| 12-15点 | ⚠️ 要改善 | 抽象的な表現が多い |
| 0-11点 | ❌ 不合格 | ほぼ抽象的 |

---

## 4. evidence_score（エビデンス: 15点満点）

### 概要

LLMが主張を裏付けるデータ・出典の有無を評価。

### 評価項目

1. **データ裏付けチェック**: 主張がデータに基づいているか
   - ✅ 良い例: 「市場規模10兆円（出典: 総務省2024年調査）」
   - ❌ 悪い例: 「市場は拡大している」

2. **出典引用チェック**: 出典・参照が明記されているか
   - ✅ 良い例: 「（参照: McKinsey Global Report 2024）」
   - ❌ 悪い例: 「調査によると」

3. **定量データチェック**: 定量的なデータが含まれているか
   - ✅ 良い例: 「アンケート回答者100名中85名が課題を実感」
   - ❌ 悪い例: 「多くの人が困っている」

### LLMプロンプト例

```
以下のドキュメントのエビデンスを評価してください。

1. 主張がデータに基づいているか
2. 出典・参照が明記されているか
3. 定量的なデータが含まれているか

エビデンス不足の箇所をリストアップし、15点満点でスコアを付けてください。
```

### 判定基準

| スコア | 判定 | 状態 |
|--------|------|------|
| 15点 | ✅ 完璧 | データ・出典が充実 |
| 12-14点 | ✅ 良好 | 概ねエビデンスあり |
| 9-11点 | ⚠️ 要改善 | エビデンス不足 |
| 0-8点 | ❌ 不合格 | ほぼエビデンスなし |

---

## 5. framework_compliance_score（フレームワーク準拠性: 15点満点）

### 概要

LLMがスタートアップサイエンスのフレームワーク（Lean Startup、CPF/PSF/PMF等）に準拠しているかを評価。

### 評価項目

1. **CPF基準準拠**: Customer Problem Fitの評価軸が適切か
   - 顧客セグメントの明確性
   - 課題の具体性
   - 解決策の妥当性

2. **PSF基準準拠**: Problem Solution Fitの評価軸が適切か
   - ソリューション適合性
   - 技術的実現可能性
   - UX設計の妥当性

3. **PMF基準準拠**: Product Market Fitの評価軸が適切か
   - ユニットエコノミクス
   - 成長率
   - リテンション率

### LLMプロンプト例

```
以下のドキュメントがスタートアップサイエンスのフレームワークに準拠しているかを評価してください。

参照フレームワーク:
- Lean Startup
- CPF/PSF/PMF検証
- スタートアップサイエンス（馬田隆明）

15点満点でスコアを付け、改善点を指摘してください。
```

### 判定基準

| スコア | 判定 | 状態 |
|--------|------|------|
| 15点 | ✅ 完璧 | フレームワーク完全準拠 |
| 12-14点 | ✅ 良好 | 概ね準拠 |
| 9-11点 | ⚠️ 要改善 | 一部準拠していない |
| 0-8点 | ❌ 不合格 | フレームワーク無視 |

---

## 総合判定

### 判定基準

| 総合スコア | 判定 | 対応 |
|-----------|------|------|
| 70点以上 | ✅ 合格 | 統合完了 |
| 60-69点 | ⚠️ 条件付き合格 | 警告ログ記録 + 統合 |
| 60点未満 | ❌ 不合格 | リプラン必須 |

### リプラン判断

**不合格時のリプランパターン**:

| 問題パターン | 条件 | 修正指示 |
|------------|------|---------|
| Pattern 1: セクション不足 | completeness_score < 15 | 未実装セクションを具体例付きで指示 |
| Pattern 2: 論理的矛盾 | logic_score < 15 | 矛盾箇所を明示、修正案提示 |
| Pattern 3: 抽象的表現 | specificity_score < 12 | 具体的な数値・事例を要求 |
| Pattern 4: エビデンス不足 | evidence_score < 9 | データ・出典の追加を指示 |
| Pattern 5: フレームワーク逸脱 | framework_compliance_score < 9 | フレームワーク基準を明示 |

---

## ドメイン別カスタマイズ

### ForStartup（スタートアップ特化版）

- **合格基準**: 80点以上（品質重視）
- **evidence_scoreの重み**: 0.20（エビデンス重視）
- **framework_compliance_scoreの重み**: 0.20（厳格なフレームワーク適用）

### ForSolo（ソロプレナー特化版）

- **合格基準**: 60点以上（スピード重視）
- **completeness_scoreの重み**: 0.30（最小限のセクション）
- **specificity_scoreの重み**: 0.15（具体性やや緩和）

### ForRecruit（企業内新規事業特化版）

- **合格基準**: 70点（デフォルト）
- **logic_scoreの重み**: 0.30（社内説得力重視）

### ForGenAI（生成AI特化版）

- **合格基準**: 75点（品質とスピードのバランス）
- **specificity_scoreの重み**: 0.25（具体性重視）

---

## 使用例

### 例1: 全観点高得点

```json
{
  "completeness_score": 25,
  "logic_score": 23,
  "specificity_score": 18,
  "evidence_score": 14,
  "framework_compliance_score": 13,
  "total_score": 93,
  "passed": true,
  "judgment": "✅ 合格（統合完了）"
}
```

### 例2: セクション不足

```json
{
  "completeness_score": 15,
  "logic_score": 20,
  "specificity_score": 16,
  "evidence_score": 12,
  "framework_compliance_score": 11,
  "total_score": 74,
  "passed": true,
  "judgment": "✅ 合格（統合完了、軽微な改善推奨）"
}
```

### 例3: 論理的矛盾・エビデンス不足

```json
{
  "completeness_score": 20,
  "logic_score": 12,
  "specificity_score": 10,
  "evidence_score": 6,
  "framework_compliance_score": 8,
  "total_score": 56,
  "passed": false,
  "judgment": "❌ 不合格（リプラン必須）"
}
```

---

## 更新履歴

| 日時 | バージョン | 変更内容 |
|------|----------|---------|
| 2026-01-02 | 1.0 | 初版作成（Week 3: コード品質基準） |
| 2026-01-02 | 2.0 | ドキュメント品質基準に完全刷新（Week 3.5） |

---

## 関連ドキュメント

- **Review Agent**: `.claude/agents/review-agent.md`
- **Manager Skill**: `.claude/skills/orchestrate-review-loop/SKILL.md`
- **エラーハンドリング**: `.claude/skills/_shared/error_handling_patterns.md`
- **リプランパターン**: `.claude/skills/_shared/replan_patterns.md`（Week 5で作成）
