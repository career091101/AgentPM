# Phase 3: 投稿生成 - 詳細手順

**所要時間**: 10-15分

---

## STEP 3.1: 高野式7パターン投稿3案生成（10-15分）

### 実行

```
Task toolでgenerate-sns-posts-takanoスキルを起動（model: opus, thinking: true）
```

### プロンプト

```markdown
generate-sns-posts-takanoスキルを実行してください。

パラメータ:
- 入力: Phase 2全データ統合
  - extracted_contents_{date}.json （約1,300ワード）
  - reply_insights_{date}.json （24インサイト）
  - research_findings_{date}.json （30ソース）
  - top_10_tweets_{date}.json （エンゲージメント上位トピック）
- 出力: Stock/programs/副業/projects/SNS/data/posts_generated_takano_{date}.md
- 処理内容:
  1. 入力自動判定（Phase 2データをトランスクリプトとして処理）
  2. 高野式7パターンから最適3パターンをAIが自動選択
  3. 3案同時生成（選択されたパターンに基づく）
  4. 厳格チェックリスト検証（全7項目必須、未達は自動再生成）
  5. 比較表・最推奨案提示

高野式7パターン:
1. 断定型主張 → データ展開
2. 問題提起 → 反論 → 正論
3. ニュース引用 → 深掘り
4. リスト型衝撃ファクト
5. イベント体験レポート
6. サービス紹介CTA
7. 有料サロン訴求

チェックリスト（全項目必須）:
- 引き込み（「マジで」「ヤバい」「〇〇の件」等）
- 断定型（「答えは単純だ」等）
- 口語体（「〜なんだよね」等）
- 具体的数値（3つ以上）
- 固有名詞（人名/企業名）
- 拡張フレーズ（「でも、ここからが本当の話だ」等）
- 問いかけ終結（「あなたはどう思いますか？」等）

重要: 支持派・懐疑派の両論併記は不要

エラー発生時は即座に停止し、エラー内容を報告してください。
```

---

## 出力フォーマット

期待される出力は以下の構造を持つMarkdownファイル：

### ファイル構成

```markdown
# LinkedIn投稿案 - {トピック名}

**生成日時**: {YYYY-MM-DD HH:MM:SS}
**選択パターン**: パターン{N}, パターン{M}, パターン{O}
**チェックリスト状態**: 全案合格（7/7項目）

---

## 比較表

| 項目 | 案1 | 案2 | 案3 |
|------|-----|-----|-----|
| 選択パターン | パターン3 | パターン1 | パターン4 |
| テーマ | ニュース引用→深掘り | 断定型→データ展開 | リスト型衝撃ファクト |
| 予測ER | 2.8% | 4.2% | 3.1% |
| チェック状態 | ✅ 合格 | ✅ 合格 | ✅ 合格 |

---

## 案1: {案1のタイトル}

### パターン
パターン3（ニュース引用 → 深掘り）

### タイトル
**{タイトル}**

### 本文
{本文内容}

### First Comment
{出典等の追加情報}

---

## 案2: {案2のタイトル}

### パターン
パターン1（断定型主張 → データ展開）

### タイトル
**{タイトル}**

### 本文
{本文内容}

### First Comment
{出典等の追加情報}

---

## 案3: {案3のタイトル}

### パターン
パターン4（リスト型衝撃ファクト）

### タイトル
**{タイトル}**

### 本文
{本文内容}

### First Comment
{出典等の追加情報}

---

## チェックリスト詳細

### 案1
- ✅ 引き込み: 「〇〇の報告が出た」
- ✅ 断定型: 「結論は〜」
- ✅ 口語体: 「〜なんだよね」
- ✅ 具体的数値: 3個以上
- ✅ 固有名詞: OpenAI, GPT-4等
- ✅ 拡張フレーズ: 「ここからが本当の話だ」
- ✅ 問いかけ終結: 「あなたはどう思いますか？」

### 案2
[同様の形式で案2のチェック]

### 案3
[同様の形式で案3のチェック]

---

## 最推奨案

**案2: 【断定型→データ展開】**

理由：
- 予測ER最高（4.2%）
- チェックリスト全項目合格
- AI関連度トピックとの親和性が最も高い
```

---

## 期待出力

- `Stock/programs/副業/projects/SNS/data/posts_generated_takano_{date}.md` (3案 + 比較表 + 推奨案)

---

## エラーハンドリング

### エラーケースと対応

| エラー内容 | 対応 | 理由 |
|-----------|------|------|
| **Phase 2データ不足** | **即時停止** | 投稿品質の維持が不可能 |
| **チェックリスト未達** | 自動再生成（最大2回） | 品質基準を満たしていない |
| **パターン選択失敗** | **即時停止** | AIが最適パターンを判定できない |
| **タイムアウト** | 部分成功許容（投稿案のみ出力） | オプスが重い処理 |

### 品質基準

- **必須**: チェックリスト全7項目達成
- **推奨**: 予測ER 3%以上
- **優先度**: 3案すべて合格（複数案を投稿するため）

---

## パフォーマンス指標

### 実行時間の内訳

| 工程 | 所要時間 | 備考 |
|------|---------|------|
| AI思考・パターン選択 | 2-3分 | Opus model with thinking |
| 案1生成 | 2-3分 | パターン1 |
| 案2生成 | 2-3分 | パターン2 |
| 案3生成 | 2-3分 | パターン3 |
| チェックリスト検証 | 1-2分 | 自動検証 |
| 再生成（失敗時） | 2-3分 | 最大2回まで |
| **合計** | **10-15分** | 平均12分 |

### コスト試算

| モデル | 処理内容 | コスト |
|--------|---------|--------|
| Opus | 全処理 | $0.80 |
| **合計** | - | **$0.80/実行** |

---

## 推奨パターン判定ロジック

自動的に最適な3パターンを選択するロジック：

### パターン1: 断定型主張 → データ展開

**選択条件**:
- AI関連度スコア ≥ 2
- 数値データが豊富（3個以上）
- 論争性・議論性あり

**例**: GPT-5.2の性能向上データを比較

---

### パターン2: 問題提起 → 反論 → 正論

**選択条件**:
- AI関連度スコア = 3
- 論争性・議論性が高い
- 複数の視点がある

**例**: AIエージェント採用の課題と解決策

---

### パターン3: ニュース引用 → 深掘り

**選択条件**:
- 速報性・新規性が高い
- ニュースソースが明確
- 追加の洞察がある

**例**: OpenAIの新機能発表に対する分析

---

### パターン4: リスト型衝撃ファクト

**選択条件**:
- 複数の驚くべき事実がある
- 数値が具体的で大きい
- ファクトチェック済み

**例**: AI企業の給与・資金調達額ランキング

---

### パターン5: イベント体験レポート

**選択条件**:
- 実体験・ケーススタディがある
- 使用結果が具体的
- 応用性がある

**例**: Claude 3Dモデリング機能の実例

---

### パターン6: サービス紹介CTA

**選択条件**:
- 自社商品・サービスの紹介が主目的
- 導入事例がある
- CTAが明確

**例**: AI導入支援サービスの紹介

---

### パターン7: 有料サロン訴求

**選択条件**:
- 専門的な知識・ノウハウの共有
- 限定情報がある
- 訴求力が高い

**例**: 「最新AI動向の詳細分析は有料マガジンで」

---

## 詳細なエラーハンドリング

リトライ戦略、エラーレスポンス形式、パターン別対応は以下を参照：

📖 **[@_shared/error_handling_patterns.md](../../_shared/error_handling_patterns.md)**
