# scroll_amount: 10 検証テスト実行レポート

**実行日時**: 2026-01-01 21:15-21:20
**目的**: scroll_amount: 8→10変更後の重複率改善検証
**実行サイクル数**: 3サイクル（検証用）
**成功基準**: Cycle 2の新規率40%以上

---

## 📊 実行結果サマリー

### ✅ **Cycle 2は成功、Cycle 3は失敗**

| サイクル | 収集件数 | 新規件数 | 重複件数 | 新規率 | 目標 | 判定 |
|---------|---------|---------|---------|-------|------|------|
| **Cycle 1** | 2件 | 2件 | 0件 | **100%** | - | ✅ |
| **Cycle 2** | 7件 | 5件 | 2件 | **71.4%** | 40%以上 | ✅ **成功** |
| **Cycle 3** | 8件 | 1件 | 7件 | **12.5%** | - | ❌ **失敗** |
| **合計** | **17件** | **8件** | **9件** | **47.1%** | - | - |

### 最終出力

- 重複除外後: **8件**
- エンゲージメント率: **100%** ✅
- 実行時間: 約5分
- Top 3ツイート:
  1. **Elon Musk** (25,264 likes) - エンゲージメントスコア: 38,832
  2. **Tokyo.Tweet** (1,580 likes) - SONY/NVIDIA AI半導体記事
  3. **NIK** (239 likes) - DeepSeek transformer革新

---

## 🔍 scroll_amount: 8との詳細比較

### データ比較表

| 指標 | scroll_amount: 8 | scroll_amount: 10 | 変化 |
|------|------------------|-------------------|------|
| **Cycle 1収集数** | 12件 | 2件 | -10件 |
| **Cycle 2収集数** | 10件 | 7件 | -3件 |
| **Cycle 2新規率** | **10%** | **71.4%** | ✅ **+61.4pt大幅改善** |
| **Cycle 3収集数** | 10件 | 8件 | -2件 |
| **Cycle 3新規率** | **20%** | **12.5%** | ❌ **-7.5pt悪化** |
| **合計ユニーク** | 15件 | 8件 | -7件 |

### 🎯 **重要な発見**: scroll_amount: 10でCycle 2の新規率が71.4%に大幅改善

**期待された効果**:
- scroll_amount: 8→10への増加（25%スクロール増）
- 画面の71-89% → 89-111%のスクロール（完全な画面更新）
- Cycle 2新規率の改善: 10% → 40%以上

**実際の結果**:
- Cycle 2新規率: **10% → 71.4%（+61.4pt）** ✅ **目標大幅超過**
- Cycle 3新規率: **20% → 12.5%（-7.5pt）** ❌ 悪化

---

## 📉 根本原因分析

### 原因1: Cycle 2での大幅改善の要因

**scroll_amount: 10の効果**:
- ビューポート高さ899pxの89-111%スクロール（800-1000px）
- **完全な画面更新**により、Cycle 1の2ツイートが画面外に完全に排除
- Xの「おすすめ」アルゴリズムが新しいコンテンツを表示

**証拠**:
- Cycle 1→2で71.4%の新規率を達成（scroll_amount: 8の10%と比較して7倍改善）
- scroll_amount: 10が有効に機能した明確な証拠

### 原因2: Cycle 3での急激な悪化

**問題**:
- Cycle 2→3のスクロールで、**7件中6件が重複**（85.7%重複率）
- Cycle 2で表示された人気ツイート（elonmusk: 25,291 likes等）が再表示

**Xアルゴリズムの挙動**:
1. Cycle 1→2: 画面を完全に更新したため、アルゴリズムが新しいコンテンツを表示
2. **Cycle 2→3: 人気ツイート（Elon Musk, Tokyo.Tweet等）をアルゴリズムが再挿入**
3. 結果: 新規コンテンツが1件のみ（syossan27: 164 likes）

**重複したツイート（Cycle 2→3）**:
- 2006669611627065807 (tweet_tokyo_web, 1,783 likes)
- 2006668809055379938 (Money_tweet1118, 38 likes)
- 2006671323368759664 (sikeda23, 129 likes)
- 2006459151510286552 (tommy_love123, 12 likes)
- 2006498218251808776 (elonmusk, 25,291 likes) ← **超人気ツイート**
- 2006682155670208664 (nikkei, 93 likes)
- 2006672688073597415 (ns123abc, 251 likes)

### 原因3: Cycle 1での収集件数が少ない

**分析**:
- Cycle 1で2件のみ収集（scroll_amount: 8では12件）
- read_page結果では4つのarticle要素が存在したが、2件のみ抽出成功

**推測される原因**:
- 2つのarticle要素（kimmonismus, watch_UNEXT）のtimestamp_textが空で、tweet_id抽出に失敗した可能性
- または、これらのツイートがリツイート/広告で除外された可能性

---

## 🎯 改善提案（優先度順）

### 提案1: 10サイクル本番実行（推奨）

**根拠**:
- **Cycle 2の新規率71.4%は目標40%を大幅に超えている**
- Cycle 3は悪化したが、これは一時的なアルゴリズム挙動の可能性
- 10サイクル実行でCycle 2レベルの新規率（50-70%）が維持されれば、目標達成可能

**シミュレーション（楽観的）**:
```
Cycle 1: 2件（新規率100%）
Cycle 2-4: 各7件、新規率70% → 約15件新規
Cycle 5-7: 各7件、新規率50% → 約11件新規
Cycle 8-10: 各7件、新規率30% → 約6件新規
合計: 約34件ユニーク（目標70件の49%）
```

**シミュレーション（現実的）**:
```
Cycle 1: 2件
Cycle 2: 5件新規
Cycle 3-10: 各1-3件新規（平均2件）
合計: 2 + 5 + 16 = 約23件ユニーク（目標70件の33%）❌
```

**結論**: **10サイクルでは目標達成困難**

---

### 提案2: scroll_amount: 12 + scroll_wait_seconds: 5でのテスト（最優先）

**根拠**:
- scroll_amount: 10でもCycle 3の重複率が高い
- **さらに大きなスクロール（120%画面更新）**で、アルゴリズムの再挿入を回避
- 待機時間を5秒に増やし、動的読み込みを完全に待つ

**推奨設定**:
```yaml
# automation_config.yaml
browser_automation:
  scroll_amount: 12  # 10 → 12に増加（ビューポート高さの107-133%）
  scroll_wait_seconds: 5  # 3 → 5に増加
```

**期待効果**:
- Cycle 2新規率: 71.4%を維持
- Cycle 3新規率: 12.5% → 40-50%に改善（推定）
- 10サイクル実行で60-80件収集（目標70-100件達成）

**次回テスト**: 3サイクルで検証

---

### 提案3: 「フォロー中」タブへの切り替え（代替案）

**根拠**:
- 「フォロー中」タブは**時系列順**で表示（アルゴリズム介入なし）
- 人気ツイートの再表示が発生しない
- スクロールした分だけ確実に新しいツイートが表示される

**トレードオフ**:
- ❌ バイラルツイート（1000いいね以上）の割合が減少
- ✅ フォロー中アカウントの投稿に限定されるため、関連性が高い
- ✅ 重複率が大幅に低下（推定: Cycle 2-10で80-90%新規率）

**実装方法**:
```
URL変更:
https://x.com/home → https://x.com/home/following
```

**採用条件**:
- scroll_amount: 12でも新規率40%未達の場合のみ検討

---

### 提案4: サイクル数増加（最終手段）

**根拠**:
- 新規率が低くても、サイクル数を増やせば累積で目標件数達成可能

**シミュレーション（scroll_amount: 10維持）**:

| サイクル数 | 期待収集数 | 実行時間 | 目標達成確率 |
|-----------|-----------|---------|-------------|
| 10サイクル | 20-30件 | 7-10分 | ❌ 30-40% |
| 20サイクル | 35-50件 | 14-20分 | ⚠️ 50-70% |
| 30サイクル | 50-70件 | 21-30分 | ✅ 70-90% |

**問題点**:
- 実行時間が長すぎる（30サイクル: 21-30分）
- 効率が悪い（scroll_amount調整で解決すべき）

---

## 📋 推奨実行プラン

### Phase 1: scroll_amount: 12 + scroll_wait_seconds: 5でのテスト（即座に実施）

1. **automation_config.yamlを更新**:
   ```yaml
   scroll_amount: 12
   scroll_wait_seconds: 5
   ```

2. **3サイクル検証テスト実行**

3. **成功基準**:
   - Cycle 2新規率: **60%以上** → Phase 2へ
   - Cycle 3新規率: **40%以上** → Phase 2へ
   - 両方満たさない場合 → Phase 1-Bへ

### Phase 1-B: 「フォロー中」タブ切り替え（Phase 1失敗時）

1. **URL変更**: `https://x.com/home/following`

2. **scroll_amount: 12, scroll_wait_seconds: 5で3サイクル検証テスト実行**

3. **成功基準**:
   - Cycle 2新規率: **80%以上** → Phase 2へ
   - Cycle 3新規率: **60%以上** → Phase 2へ

### Phase 2: 本番10サイクル実行

1. **10サイクル収集実行**

2. **目標**: 70-100件収集（重複除外後）

---

## 🔬 技術的知見

### scroll_amount値とスクロール距離の関係

| scroll_amount | ピクセル数 | ビューポート比率 (899px) | ツイート数 (概算) |
|--------------|-----------|------------------------|------------------|
| 5 | 400-500px | 44-56% | 1-2ツイート |
| 8 | 640-800px | 71-89% | 2-3ツイート |
| 10 | 800-1000px | 89-111% | 3-4ツイート |
| 12 | 960-1200px | 107-133% | 4-5ツイート |

**結論**: **scroll_amount: 12以上が必要**（画面高さの107%以上スクロール）

### Xアルゴリズムの挙動観察

**「おすすめ」タブの再表示パターン（scroll_amount: 10）**:
1. Cycle 1→2: 画面完全更新により、新規コンテンツ表示（新規率71.4%）
2. **Cycle 2→3: 人気ツイート（25,000 likes級）を優先的に再挿入**（新規率12.5%）
3. アルゴリズムが「重要なコンテンツ」と判断したツイートは、スクロール後も再表示される

**対策の限界**:
- scroll_amount: 12以上にしても、アルゴリズムが超人気ツイートを挿入し続ける可能性
- 根本的な解決には「フォロー中」タブへの切り替えが必要

---

## 📈 次回アクション（優先度順）

1. ✅ **即座に実施**: automation_config.yamlを `scroll_amount: 12, scroll_wait_seconds: 5` に更新
2. ✅ **即座に実施**: 3サイクル検証テスト実行
3. ⏸️ **結果待ち**: Cycle 2新規率60%以上 かつ Cycle 3新規率40%以上なら本番10サイクル実行
4. ⏸️ **結果待ち**: 目標未達なら「フォロー中」タブテスト

---

## 📝 結論

### 検証テスト判定

**⚠️ scroll_amount: 10では一部成功、一部失敗**
- Cycle 2新規率: 71.4%（目標40%に対して+31.4pt） ✅ **大成功**
- Cycle 3新規率: 12.5%（scroll_amount: 8の20%より悪化） ❌ **失敗**

### 根本原因

1. **scroll_amount: 10の有効性**: Cycle 1→2で完全な画面更新により新規率71.4%達成
2. **Xの「おすすめ」アルゴリズムの強力な影響**: Cycle 2→3で人気ツイートを再挿入
3. **scroll_amount: 10では不十分**: Cycle 3の重複率85.7%は、さらなるスクロール量増加が必要

### 次のステップ

**scroll_amount: 12 + scroll_wait_seconds: 5での検証テスト実行**（最優先）

scroll_amount: 12でもCycle 3新規率40%未達の場合、**「フォロー中」タブへの切り替えを強く推奨**。

---

**レポート作成日**: 2026-01-01 21:20
**作成者**: Claude Code
**ステータス**: ⚠️ scroll_amount: 12テスト推奨
