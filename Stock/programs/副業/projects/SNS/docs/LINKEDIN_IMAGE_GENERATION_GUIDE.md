# LinkedIn投稿用画像生成ガイド（NanoBananaPro API）

NanoBananaPro（Gemini 3 Pro Image）を使用してLinkedIn投稿用画像を自動生成する方法を解説します。

## 目次

1. [セットアップ](#セットアップ)
2. [使用方法](#使用方法)
3. [LinkedIn画像仕様](#linkedin画像仕様)
4. [料金](#料金)
5. [プロンプト設計のコツ](#プロンプト設計のコツ)
6. [トラブルシューティング](#トラブルシューティング)

---

## セットアップ

### 1. APIキー取得

1. [Google AI Studio](https://aistudio.google.com/apikey) にアクセス
2. 「Get API key」をクリック
3. APIキーをコピー

### 2. 環境変数設定

```bash
# .envファイルに追加
export GOOGLE_GEMINI_API_KEY='your-api-key-here'

# または、シェル起動時に自動設定（~/.zshrc または ~/.bashrc）
echo 'export GOOGLE_GEMINI_API_KEY="your-api-key-here"' >> ~/.zshrc
source ~/.zshrc
```

### 3. 依存ライブラリインストール

```bash
# プロジェクトルートで実行
cd /Users/yuichi/AIPM/aipm_v0/Stock/programs/副業/projects/SNS

# 必要ライブラリをインストール
pip install google-genai pillow
```

---

## 使用方法

### 基本的な使い方

```bash
# スクリプト実行
python scripts/generate_linkedin_image_nanobananapro.py
```

実行すると、以下の選択肢が表示されます：

```
📋 利用可能なサンプルプロンプト:
  1. テーマ: AI BPO（AIが主体となり人が補完する業務設計）
  2. テーマ: AGI到来の予測（2028年までに50%の確率）
  3. テーマ: Claude Opus 4.5 - 5時間の業務を自律実行
  4. テーマ: AIによる開発工数80%削減（トランスコスモス）
  5. カスタムプロンプトを入力

選択してください (1-5):
```

### サンプルプロンプト使用例

過去のLinkedIn投稿（エンゲージメント率3.38%達成）をベースにした4つのサンプルプロンプトを用意しています。

**例: AI BPO（選択肢1）**

生成される画像:
- テーマ: AIが主体となり人が補完する業務設計
- スタイル: モダン、ミニマル、ビジネス向け
- テキスト: 「AI BPO」「人間 → AIツール操作」から「AI → 自律実行、人 → 確認・修正」へ

### カスタムプロンプト使用例

選択肢5を選ぶと、独自のプロンプトを入力できます：

```
📝 カスタムプロンプトを入力してください:
> プロフェッショナルなビジネスイラスト: AIエージェントが複数のタスクを並行処理する様子。中央に脳のアイコン、周囲に接続されたツール群。背景は青系のクリーンなオフィス空間。テキスト「AIエージェント時代の到来」
```

### Python APIとしての使用

```python
from generate_linkedin_image_nanobananapro import LinkedInImageGenerator

# 初期化
generator = LinkedInImageGenerator()

# 画像生成
output_path = generator.generate_image(
    prompt="""
    プロフェッショナルなインフォグラフィック:
    テーマ: AI活用による生産性向上
    スタイル: モダン、データビジュアライゼーション
    """,
    resize_to_linkedin=True  # LinkedIn仕様（1200×627px）に自動リサイズ
)

print(f"生成完了: {output_path}")
```

---

## LinkedIn画像仕様

### 推奨サイズ（2026年版）

| 用途 | サイズ | アスペクト比 | 推奨シーン |
|------|-------|------------|-----------|
| **標準投稿（推奨）** | **1200×627px** | **1.91:1** | リンク付き投稿、スポンサー投稿 |
| スクエア投稿 | 1080×1080px | 1:1 | 汎用性が高い、全デバイス対応 |
| モバイル優先投稿 | 1080×1350px | 4:5 | モバイルフィード最適化 |

### 本スクリプトの設定

- **解像度**: 1K（Full HD相当）でコスト削減
- **アスペクト比**: 16:9で生成 → 自動で1200×627pxにリサイズ
- **ファイル形式**: PNG（高品質、透過対応）
- **ファイルサイズ**: 5MB以下に最適化

### ベストプラクティス

1. **テキスト配置**: 画像中央に配置（自動クロップ対策）
2. **カラー**: 青系のプロフェッショナルトーン推奨
3. **スタイル**: モダン、ミニマル、データドリブン
4. **読みやすさ**: モバイルでも視認可能な大きさのテキスト

---

## 料金

### Google公式（Gemini 3 Pro Image）

| 解像度 | 単価 | 100枚あたり | 備考 |
|--------|------|------------|------|
| 1K（本スクリプト） | 約$0.13 | $13 | Full HD相当、コスト最適 |
| 2K | 約$0.13 | $13 | 高品質 |
| 4K | 約$0.24 | $24 | 超高品質（LinkedIn不要） |

### サードパーティプロバイダー（参考）

| プロバイダー | 1K画像 | 2K画像 | 4K画像 |
|------------|--------|--------|--------|
| Kie.ai | $0.09 | $0.09 | $0.12 |
| NanoBananaPro公式 | $0.05 | - | - |

**本スクリプトでは、Google公式API（最も安定）を使用しています。**

### コスト削減のポイント

1. **解像度は1K**で十分（LinkedIn推奨は1200×627px = Full HD相当）
2. **生成後のリサイズ**で品質調整
3. **バッチ生成**で効率化（複数プロンプトを一度に実行）

---

## プロンプト設計のコツ

### 効果的なプロンプト構造

```
[画像タイプ]: [具体的な説明]

テーマ: [投稿の主題]

視覚要素:
- [要素1の説明]
- [要素2の説明]
- [要素3の説明]

テキスト（画像内）:
「[メインメッセージ]」
「[サブメッセージ1]」
「[サブメッセージ2]」

スタイル: [デザインの方向性]
```

### サンプルプロンプト（エンゲージメント率3.38%達成投稿）

```
プロフェッショナルなビジネスイラスト:

テーマ: AI BPO（AIが主体となり人が補完する業務設計）

視覚要素:
- 中央: シンプルな AIアイコン（脳のシンボル）
- 周囲: メール、ファイル、データベースのアイコンが自動的に接続
- 背景: 清潔感のあるオフィス空間
- カラー: 青系のプロフェッショナルトーン

テキスト（画像内）:
「AI BPO」
「人間 → AIツール操作」から
「AI → 自律実行、人 → 確認・修正」へ

スタイル: モダン、ミニマル、ビジネス向け
```

### LinkedIn向けプロンプトのポイント

1. **ビジネス向けトーン**: 「プロフェッショナル」「モダン」「クリーン」を強調
2. **インフォグラフィック要素**: データ、チャート、アイコンを活用
3. **テキストは最小限**: 3行以内（画像内テキスト）
4. **カラーは青系**: LinkedInの企業文化に合致
5. **視覚的階層**: 中央にメインメッセージ、周囲に補足要素

### 避けるべき要素

- ❌ 顔写真（個人情報保護）
- ❌ 複雑すぎるデザイン（モバイルで視認不可）
- ❌ 長文テキスト（3行以上）
- ❌ 派手すぎる色（赤、黄色の過度使用）

---

## トラブルシューティング

### 1. APIキーエラー

```
❌ エラー: 環境変数 GOOGLE_GEMINI_API_KEY が設定されていません
```

**解決方法**:
```bash
export GOOGLE_GEMINI_API_KEY='your-api-key-here'
source ~/.zshrc
```

### 2. 画像生成エラー

```
❌ エラー: 画像データが生成されませんでした
```

**原因と解決方法**:
- **プロンプトが不適切**: より具体的な説明を追加
- **API制限**: 無料版は1日3枚まで（有料アカウントに移行）
- **ネットワークエラー**: インターネット接続を確認

### 3. ファイルサイズ超過

```
⚠️  警告: ファイルサイズが5MBを超えています（LinkedIn制限）
```

**解決方法**:
```python
# リサイズ後に圧縮率を調整
image.save(output_path, format="PNG", optimize=True, quality=85)
```

### 4. 画像品質が低い

**解決方法**:
1. プロンプトに「high quality」「detailed」を追加
2. 解像度を2Kに上げる（コスト増）
3. リサイズ時のアルゴリズムを変更:
   ```python
   image.resize((1200, 627), Image.Resampling.LANCZOS)  # 高品質
   ```

---

## 参考資料

### LinkedIn画像仕様

- [LinkedIn Post Size: Complete 2026 Guide](https://www.sendible.com/insights/linkedin-post-size)
- [LinkedIn Image Specifications](https://www.linkedin.com/help/linkedin/answer/a563309)

### NanoBananaPro API

- [Google AI Studio API Documentation](https://ai.google.dev/gemini-api/docs/nanobanana)
- [NanoBananaPro公式サイト](https://nanobananaapi.ai/)

### 過去の高エンゲージメント投稿

- エンゲージメント率3.38%達成（2025/12/6）
- エンゲージメント率3.20%達成（2025/12/5）
- エンゲージメント率2.08%達成（2025/12/8）

---

## まとめ

このスクリプトを使用することで：

✅ **LinkedIn最適サイズ**（1200×627px）の画像を自動生成
✅ **コスト削減**（1K解像度で$0.13/枚）
✅ **過去の高エンゲージメント投稿**をベースにしたサンプルプロンプト
✅ **5分以内**に投稿用画像を作成可能

LinkedIn投稿の視覚的インパクトを高め、エンゲージメント率向上に貢献します。
