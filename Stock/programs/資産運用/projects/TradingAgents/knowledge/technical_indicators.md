# テクニカル指標解説

## 概要

このドキュメントでは、agent-technical-analystが使用する8種類のテクニカル指標について解説します。

---

## 1. 移動平均線（Moving Average）

### SMA50（50日単純移動平均）
**計算式**:
```
SMA50 = 過去50日間の終値の合計 / 50
```

**意味**: 中期トレンドを表す

**シグナル**:
- 価格 > SMA50: 上昇トレンド
- 価格 < SMA50: 下降トレンド

### SMA200（200日単純移動平均）
**計算式**:
```
SMA200 = 過去200日間の終値の合計 / 200
```

**意味**: 長期トレンドを表す

### ゴールデンクロス/デッドクロス
- **ゴールデンクロス**: SMA50 > SMA200（強気シグナル）
- **デッドクロス**: SMA50 < SMA200（弱気シグナル）

---

## 2. MACD（移動平均収束拡散指標）

### 計算式
```
EMA12 = 12日指数移動平均
EMA26 = 26日指数移動平均
MACD = EMA12 - EMA26
Signal = MACDの9日EMA
Histogram = MACD - Signal
```

### シグナル
- **ゴールデンクロス**: MACD > Signal（買いシグナル）
- **デッドクロス**: MACD < Signal（売りシグナル）
- **ゼロラインクロス**: MACD > 0（強気）、MACD < 0（弱気）

---

## 3. RSI（相対力指数）

### 計算式
```
RSI = 100 - (100 / (1 + RS))
RS = 平均上昇幅 / 平均下落幅（14日間）
```

### 判定基準
- **RSI > 70**: 買われすぎ（売りシグナル）
- **RSI < 30**: 売られすぎ（買いシグナル）
- **50 < RSI < 70**: やや買い
- **30 < RSI < 50**: やや売り

---

## 4. ボリンジャーバンド

### 計算式
```
中心線 = 20日SMA
上限バンド = 中心線 + (2 × 標準偏差)
下限バンド = 中心線 - (2 × 標準偏差)
```

### シグナル
- **価格 > 上限**: 買われすぎ（売りシグナル）
- **価格 < 下限**: 売られすぎ（買いシグナル）
- **バンド幅縮小**: ボラティリティ低下（スクイーズ）
- **バンド幅拡大**: ボラティリティ上昇

---

## 5. ATR（平均真の範囲）

### 計算式
```
True Range = max(
  高値 - 安値,
  |高値 - 前日終値|,
  |安値 - 前日終値|
)
ATR = 14日間のTrue Rangeの平均
```

### 用途
- **ボラティリティ測定**: ATR / 現在価格 × 100 = ボラティリティ%
- **ストップロス設定**: エントリー価格 ± 1×ATR
- **利益目標設定**: エントリー価格 ± 2×ATR

### 判定基準
- **ATR% > 3%**: 高ボラティリティ
- **2% < ATR% < 3%**: 中程度
- **ATR% < 2%**: 低ボラティリティ

---

## 6. 出来高分析

### 出来高比率
```
出来高比率 = 当日出来高 / 20日平均出来高
```

### 判定基準
- **比率 > 1.5**: 出来高急増（トレンド強化）
- **比率 > 1.2**: 出来高増加（トレンド継続）
- **比率 < 1.0**: 出来高減少（トレンド弱化）

---

## 7. VWMA（出来高加重移動平均）

### 計算式
```
VWMA20 = Σ(終値 × 出来高) / Σ出来高（20日間）
```

### 特徴
- 出来高の多い日の価格を重視
- 通常のSMAより機関投資家の動向を反映

### シグナル
- **価格 > VWMA**: 買いシグナル
- **価格 < VWMA**: 売りシグナル

---

## 8. ストキャスティクス

### 計算式
```
%K = ((現在価格 - 14日間最安値) / (14日間最高値 - 14日間最安値)) × 100
%D = %Kの3日移動平均
```

### 判定基準
- **%K > 80**: 買われすぎ（売りシグナル）
- **%K < 20**: 売られすぎ（買いシグナル）
- **%K > %D**: 買いシグナル（ゴールデンクロス）
- **%K < %D**: 売りシグナル（デッドクロス）

---

## 統合使用における重み設定

agent-technical-analystでは、各指標に以下の重みを設定しています：

| 指標 | 重み | 理由 |
|-----|------|------|
| 移動平均線 | 2.0 | トレンドの基本、最重要 |
| MACD | 1.8 | モメンタム指標として信頼性高 |
| RSI | 1.6 | 過熱感の判定に有効 |
| ボリンジャーバンド | 1.4 | ボラティリティ考慮 |
| VWMA | 1.5 | 機関投資家の動向反映 |
| ストキャスティクス | 1.4 | 短期的な過熱感 |

---

## 注意事項

1. **単独使用の危険性**: 各指標は単独では不完全。必ず複数指標を組み合わせる
2. **ダマシ**: すべての指標にダマシ（誤シグナル）が存在
3. **レンジ相場**: トレンド系指標（MA, MACD）はレンジ相場で機能低下
4. **トレンド相場**: オシレーター系指標（RSI, ストキャスティクス）はトレンド相場で継続的に過熱を示す
5. **パラメータ調整**: 市場特性に応じてパラメータ（期間など）の調整が必要

---

## 参考文献

- Technical Analysis of the Financial Markets - John J. Murphy
- Encyclopedia of Chart Patterns - Thomas N. Bulkowski
